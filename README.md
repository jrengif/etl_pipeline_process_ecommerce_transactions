# E-Commerce Transactions Processing Project

This project aims to simulate the batch processing of transactions generated by an e-commerce platform. The data source that will act as our e-commerce service is the Online Retail Dataset - UC Irvine ([Check Raw Metada Documentation](project_documentation\data_modeling\raw_metada_doc.md)). 

Using a containerized architecture involving Docker, Airflow, Python, DBT, and PostgreSQL (staging layer and OLAP layer), the goal is to transform this source data into an analytical model that enables the organization to make informed decisions.

## Architecture Overview

For mores information abour architecure components ([Check Solution Architecture Documentation](project_documentation\data_modeling\raw_metada_doc.md)).

The processing pipeline involved in the architecture is the next:

### Processing Pipeline

0. **Trigger Dags Manually (Optional):** An Engineer can trigger manually the Dag developed using Arflow to start the execution.

1. **Extract Data from source:** An airflow task extract data from UC Irvine repositories.

2. **Load Raw Data:** After a simple preprocessing process of the data obtained in the last step, An airflow task load the raw data into the stating area waiting to be transformed.

3. **Start Transformation:** An ariflow task also is in charged of start the transformation process invoking the dbt container.

4. **Extract & Transform:** DBT transforms the data in the staging layer into an analitical model.

5. **Load Transformed Data:** DBT ingest data into OLAP layer. This data can be used now for BI, analitical purposes and decision making.

<img src="project_documentation\architechture_documentation\solution_architechture.png" alt="OLAP Star Model" style="display: block; margin-left: auto; margin-right: auto; width: 80%;">



## OLAP Layer - Star Model

The raw data is transformed into an star schema thats going to be stored in the postgres OLAP Layer. This new denormalized model allows for more agile queries that will support the company in the process of becoming a data-driven company.

For more information [Check OLAP Data Model & Metadata Documentation](project_documentation\data_modeling\olap_metadata_doc)


<img src="project_documentation\data_modeling\OLAP_star_model.png" alt="OLAP Star Model" style="display: block; margin-left: auto; margin-right: auto; width: 70%;">


## Repository Structure


## CI/CD Approach


## Suggested architecture changes for real-world implementations


## Relevant commands

Docker commands

```bash
docker ps #
docker ps -a # Check container status
docker-compose up --build
docker-compose up --build -d # Compose in Detached Mode
docker-compose down -v #
docker exec -it airflow airflow dags list # list dags in airflow
docker exec -it airflow_webserver airflow dags list-import-errors # list dags errors
```

python -m venv venv
.\venv\Scripts\activate
deactivate